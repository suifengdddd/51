#include "STC51.h"
//注意在这个文件下添加代码请在BEGIN和END之间否则下次生成代码时会被清除
//当使用了串口后定时器1的配置将失效！！！
/*本历程演示key和数码管的使用*/
/* USER CODE BEGIN 1 Includes */
/********用户自定义头文件*********/

/* USER CODE END 1 Includes */

//---1

/* USER CODE BEGIN PV */
/********用户自定义变量*********/

/* USER CODE END PV */

void main()
{
//---2

     all_delay();
    /* USER CODE BEGIN 2 Init */
    /********用户代码初始化*********/

    /* USER CODE END 2 Init */
		while(1)
		{
        /* USER CODE BEGIN 3 While */
        /********用户代码实现*********/
	//判断那个按键被按下(找到按键,并把按键值储存在key的key_val下)
	c51_key.key_val=c51_key.whitch_key_down();
	//键值是6-21所以减6,将键值交给数码管显示数组c51_nixie_tube.arr
	//禁用独立按键
	if(c51_key.key_val>=6)
	{
		c51_nixie_tube.arr[0]=c51_key.key_val-6;
	 }
	//调用数码管显示函数,显示键值.
	c51_nixie_tube.dynamic_display(1,1,c51_nixie_tube.arr);	

        /* USER CODE END 3 While */
		}
}

